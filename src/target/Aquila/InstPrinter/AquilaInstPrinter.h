#ifndef AQUILA_INSTPRINTER_H
#define AQUILA_INSTPRINTER_H
#include "llvm/MC/MCInstPrinter.h"
#include "llvm/Support/Debug.h"

namespace llvm {
	// These enumeration declarations were orignally in AquilaInstrInfo.h but
	// had to be moved here to avoid circular dependencies between
	// LLVMAquilaCodeGen and LLVMAquilaAsmPrinter.
	class TargetMachine;

	class AquilaInstPrinter : public MCInstPrinter {
		public:
			AquilaInstPrinter(const MCAsmInfo &MAI, const MCInstrInfo &MII,
					const MCRegisterInfo &MRI)
				: MCInstPrinter(MAI, MII, MRI) {}

			// must implement
			virtual void printRegName(raw_ostream &OS, unsigned RegNo) const /*override*/;
			virtual void printInst(const MCInst *MI, raw_ostream &O, StringRef Annot) /*override*/;

		private:
			// Autogenerated by tblgen.
			void printInstruction(const MCInst *MI, raw_ostream &O);
			static const char *getRegisterName(unsigned RegNo);

			// used in printInstruction
			void printOperand(const MCInst *MI, unsigned OpNo, raw_ostream &O);
			void printMemOperand(const MCInst *MI, int opNum, raw_ostream &O);
	};
} // end namespace llvm

#endif
